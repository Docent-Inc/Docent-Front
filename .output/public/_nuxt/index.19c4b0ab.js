import{A as l}from"./axios.92690a64.js";import{_ as y,f as p,l as n,m as t,q as g,t as a,v as i,P as h,z as _,F as v,k as c,x as k,y as b}from"./entry.43156d6c.js";const f=()=>({async getTodayCalendar(){return(await l.get("/today/calender")).data},async getTodayRecord(){return(await l.get("/today/record")).data},async getTodayLucky(){return(await l.get("/generate/luck")).data}});const w={name:"Home",setup(){},data(){return{calendar:[],record:{},lucky:"",name:""}},async mounted(){const{getTodayCalendar:s,getTodayRecord:r,getTodayLucky:m}=f();if(console.log(window.localStorage.getItem("accessToken")),!window.localStorage.getItem("accessToken")){console.log(this.$eventBus),this.$eventBus.$emit("onLoginModal");return}this.name=window.localStorage.getItem("name"),await s().then(o=>{this.calendar=o.data}).catch(()=>{}),await r().then(o=>{this.record=o.data}).catch(()=>{}),await m().then(o=>{this.lucky=o.data.luck}).catch(()=>{})}},d=s=>(k("data-v-b0b1bfc9"),s=s(),b(),s),T={class:"header"},S={class:"contents"},I={class:"title"},x={class:"main-title"},B=d(()=>t("br",null,null,-1)),C={class:"main-calendar main-description"},N={key:0},V={key:1},Y=d(()=>t("div",{class:"main-title"},"오늘의 기록",-1)),D={class:"main-description"},L={class:"main-slides"},M=d(()=>t("br",null,null,-1)),z=d(()=>t("div",{class:"main-title"},"오늘의 운세",-1)),A={class:"main-description"};function F(s,r,m,o,e,P){const u=p("v-icon");return c(),n(v,null,[t("div",T,[g(u,{class:"logo_docent"})]),t("div",S,[t("div",I,a(s.$dayjs().format("YYYY.MM.DD")),1),t("div",x,[i(" 안녕하세요 "+a(e.name)+"님 ",1),B,i("오늘의 이벤트예요 ")]),t("div",C,[g(u,{class:"ic_calendar"}),i("   "),e.calendar.length>0?(c(),n("div",N,a(e.calendar[0].title)+" ►",1)):(c(),n("div",V,"일정이 없네요!"))]),Y,t("div",D," 오늘 "+a(e.name)+"님은 이런 그림을 그리셨네요 ",1),t("div",L,[e.record.morning?(c(),n("div",{key:0,class:"main-slide",style:h(`background-image: url(${e.record.morning.image_url})`)},null,4)):_("",!0),e.record.night?(c(),n("div",{key:1,class:"main-slide",style:h(`background-image: url(${e.record.night.image_url})`)},null,4)):_("",!0),!e.record.morning&&!e.record.night?(c(),n("div",{key:2,class:"main-slide empty",onClick:r[0]||(r[0]=R=>this.$router.push("/chat"))},[i(a(e.name)+"님의 그림을 ",1),M,i("그려주세요! ")])):_("",!0)]),z,t("div",A,a(e.lucky),1)])],64)}const E=y(w,[["render",F],["__scopeId","data-v-b0b1bfc9"]]);export{E as default};
