import{_ as u,r as C,o as $,f as p,k as l,l as h,m as _,t as k,A as y,q as d,C as x,D as I,E as v,z as f,K as w,V,F as S,M as F}from"./entry.43156d6c.js";import{u as G}from"./generate.cff712fa.js";import{u as g}from"./chat.d9267334.js";import"./axios.92690a64.js";const N={class:"chat-voice"},D={__name:"ChatVoice",emits:["finish"],setup(a,{emit:e}){const n=C(""),c=window.SpeechRecognition||window.webkitSpeechRecognition,t=new c;t.lang="ko",t.continuous=!0,t.onresult=s=>{for(let o=s.resultIndex,i=s.results.length;o<i;o++){let m=s.results[o][0].transcript;s.results[o].isFinal&&(n.value+=m,console.log("ðŸŽ¤ ",m))}},$(()=>{t.start()});function r(){t&&t.stop(),e("finish",n.value)}return(s,o)=>{const i=p("v-icon");return l(),h("div",N,[_("div",null,k(y(n)),1),d(i,{class:"ic_voice big",onClick:r})])}}},E=u(D,[["__scopeId","data-v-e5e9f806"]]);const P={name:"ChatInput",data(){return{mode:"INPUT",data:"",isGenerating:!1}},setup(){},computed:{...x(g,["chatList"])},methods:{...I(g,["setChatList","getFirstPage","setReload"]),async send(){if(!this.data||this.data===""){alert("ë‚´ìš©ì„ ìž…ë ¥í•´ ì£¼ì„¸ìš”.");return}if(this.isGenerating)return;const{generateChat:a}=G(),e=this.chatList;e.push({content_type:7}),this.setChatList(e),this.isGenerating=!0;const n=await a(this.data);if(console.log("âœ¨generateChat >>> ",this.data),!n.success){const c=`${n.status_code}  - ${n.message}`;console.log("Error! > ",c,n),alert(c)}this.data="",this.getFirstPage(),this.isGenerating=!1},setData(a){this.data=a,this.mode="INPUT"}}},b={class:"chat-input"},B={class:"input"},L=["disabled"];function R(a,e,n,c,t,r){const s=p("v-icon"),o=E;return l(),h(S,null,[_("div",b,[t.mode==="INPUT"?(l(),v(s,{key:0,class:"ic_voice",onClick:e[0]||(e[0]=i=>t.mode="VOICE")})):f("",!0),_("div",B,[w(_("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=i=>t.data=i),placeholder:"ë„ìŠ¨íŠ¸ì—ê²Œ ë‹¹ì‹ ì˜ ì´ì•¼ê¸°ë¥¼ ë“¤ë ¤ì£¼ì„¸ìš”",disabled:t.isGenerating},null,8,L),[[V,t.data]]),d(s,{class:"ic_send",onClick:r.send},null,8,["onClick"])])]),t.mode==="VOICE"?(l(),v(o,{key:0,onFinish:r.setData},null,8,["onFinish"])):f("",!0)],64)}const T=u(P,[["render",R],["__scopeId","data-v-6551eeda"]]);const U={mounted(){}},M={class:"viewport"},A={class:"header"},O={class:"layout"};function q(a,e,n,c,t,r){const s=p("v-icon"),o=T;return l(),h("div",M,[_("div",A,[d(s,{class:"ic_home",onClick:e[0]||(e[0]=i=>this.$router.push("/home"))}),d(s,{class:"logo_docent"})]),_("div",O,[F(a.$slots,"default",{},void 0,!0)]),d(o)])}const J=u(U,[["render",q],["__scopeId","data-v-43c3a212"]]);export{J as default};
