import{_ as c,k as o,l as i,m as a,t as p,f as y,C as f,H as u,F as $,z as C,G as L,A as I,B as G,q as D,D as Y}from"./entry.c61ee406.js";import{u as x}from"./diary.db5a6022.js";import{W as w}from"./v3-infinite-loading.es.786c4da3.js";const N={name:"ListDiary",props:{diary:{type:Object,required:!0,default:()=>{}}},methods:{showDetail(){console.log("cliclk>>",this.diary),console.log(`type: ${this.diary.diary_type} id: ${this.diary.id}`),this.$router.push(`/diary/${this.diary.id}?type=${this.diary.diary_type}`)}}},q=["src"],j={class:"diary_text"},T={class:"diary_title"},A={class:"diary_date"},S={key:0,class:"dot"},O={key:1,class:"dot green"};function V(s,e,t,l,m,n){return o(),i("div",{class:"item_diary",onClick:e[0]||(e[0]=(...r)=>n.showDetail&&n.showDetail(...r))},[a("img",{src:t.diary.image_url},null,8,q),a("div",j,[a("div",T,p(t.diary.diary_name),1),a("div",A,p(s.$dayjs(t.diary.create_date).format("YYYY.MM.DD")),1)]),t.diary.content_type===1?(o(),i("div",S)):(o(),i("div",O))])}const b=c(N,[["render",V],["__scopeId","data-v-2dd5e4bb"]]);const z={name:"ListDiary",props:{memo:{type:Object,required:!0,default:()=>{}}}},E={class:"memo_text"},F={class:"memo_title"},H={class:"memo_date"};function W(s,e,t,l,m,n){return o(),i("div",{class:"item_memo",onClick:e[0]||(e[0]=r=>this.$router.push(`/memo/${t.memo.id}`))},[a("div",E,[a("div",F,p(t.memo.diary_name===""?"(제목 없음)":t.memo.diary_name),1),a("div",H,p(s.$dayjs(t.memo.create_date).format("YYYY.MM.DD")),1)])])}const M=c(z,[["render",W],["__scopeId","data-v-ae3b5ae6"]]),J={name:"ListItems",components:{ListDiary:b,ListMemo:M},props:{list:{type:Array,required:!0,default:[]}}},K=a("hr",null,null,-1);function P(s,e,t,l,m,n){const r=y("ListMemo"),_=y("ListDiary");return o(!0),i($,null,f(t.list,(d,h)=>(o(),i("div",{key:h},[d.diary_type===3?(o(),u(r,{key:0,memo:d},null,8,["memo"])):(o(),u(_,{key:1,diary:d},null,8,["diary"])),K]))),128)}const Q=c(J,[["render",P]]);const R={name:"BoardMemo",props:{memo:{type:Object,required:!0,default:()=>{}}}},U={class:"item_board_memo"},X={class:"memo_text"},Z={class:"memo_date"},ee={class:"memo_title"};function te(s,e,t,l,m,n){return o(),i("div",U,[a("div",X,[a("div",Z,p(s.$dayjs(t.memo.create_date).format("YYYY.MM.DD")),1),a("div",ee,p(t.memo.diary_name===""?"(제목 없음)":t.memo.diary_name),1),a("div",{class:"memo_more",onClick:e[0]||(e[0]=r=>this.$router.push(`/memo/${t.memo.id}`))}," 더 알아보기 > ")])])}const se=c(R,[["render",te],["__scopeId","data-v-8c88a107"]]);const oe={name:"BoardDiary",props:{diary:{type:Object,required:!0,default:()=>{}}},methods:{showDetail(){console.log("cliclk>>",this.diary),console.log(`type: ${this.diary.content_type} id: ${this.diary.id}`),this.$router.push(`/diary/${this.diary.id}?type=${this.diary.content_type}`)}}},ae=["src"];function ie(s,e,t,l,m,n){return o(),i("div",{class:"item_board_diary",onClick:e[0]||(e[0]=(...r)=>n.showDetail&&n.showDetail(...r))},[a("img",{src:t.diary.image_url},null,8,ae)])}const ne=c(oe,[["render",ie],["__scopeId","data-v-687f6b6b"]]);const re={name:"BoardItems",components:{BoardMemo:se,BoardDiary:ne},props:{list:{type:Array,required:!0,default:[]}}},de={class:"board-items"};function _e(s,e,t,l,m,n){const r=y("BoardMemo"),_=y("BoardDiary");return o(),i("div",de,[(o(!0),i($,null,f(t.list,(d,h)=>(o(),i("div",{key:h,class:"item"},[d.diary_type===3?(o(),u(r,{key:0,memo:d},null,8,["memo"])):(o(),u(_,{key:1,diary:d},null,8,["diary"]))]))),128))])}const ce=c(re,[["render",_e],["__scopeId","data-v-aef716a0"]]),k=C("gallery",{state:()=>({pageNo:1,type:0,totalCounts:0,mode:0,list:[],data:{}}),actions:{async getGalleryList(){const{getGalleryList:s}=x();console.log(`getGalleryList(${this.pageNo}/${this.type})`);const e=await s(this.type,this.pageNo);if(console.log(e),!e.success){const t=`${e.status_code}  - ${e.message}`;console.log("Error! > ",t,e),alert(t);return}this.list=e.data.list,this.totalCounts=e.data.count,this.pageNo+=1},setType(s){this.type=s},changeMode(){this.mode=(this.mode+1)%2},reset(){this.pageNo=1,this.totalCounts=0,this.list=[],this.data={}}}});const le={props:{tags:{type:Array,required:!0},selected:{type:Number,required:!1,default:0}},data(){return{}},methods:{onClick(s){this.$emit("select",s)}}},me={class:"tags"},ye=["onClick"];function ue(s,e,t,l,m,n){return o(),i("div",me,[(o(!0),i($,null,f(t.tags,(r,_)=>(o(),i("div",{class:L(["tag",{selected:_===t.selected}]),key:_,onClick:d=>n.onClick(_)},p(r),11,ye))),128))])}const pe=c(le,[["render",ue],["__scopeId","data-v-4d93a3e7"]]);const he={name:"Gallery",setup(){},components:{ListDiary:b,ListMemo:M,InfiniteLoading:w,Tags:pe},data(){return{}},watch:{type(){console.log("New type -> ",this.type),this.reset(),this.getGalleryList()}},computed:{...I(k,["type","mode","list","totalCounts","data"])},async mounted(){this.reset(),await this.getGalleryList()},methods:{...G(k,["setType","changeMode","getGalleryList","reset"]),loadMore(){this.list.length<this.totalCounts&&this.getGalleryList()}}},$e={class:"header"},fe={class:"contents"};function ge(s,e,t,l,m,n){var g;const r=y("Tags"),_=y("v-icon"),d=Q,h=ce,B=y("infinite-loading");return o(),i($,null,[a("div",$e,[D(r,{tags:["ALL","Dream","Diary","Memo"],onSelect:e[0]||(e[0]=v=>s.setType(v)),selected:s.type},null,8,["selected"]),D(_,{class:L(s.mode===0?"ic_list":"ic_board"),onClick:e[1]||(e[1]=v=>s.changeMode())},null,8,["class"])]),a("div",fe,[s.mode===0?(o(),u(d,{key:0,list:s.list},null,8,["list"])):(o(),u(h,{key:1,list:s.list},null,8,["list"])),(g=s.list)!=null&&g.length?(o(),u(B,{key:2,"first-load":!1,distance:1e3,top:!0,onInfinite:n.loadMore},null,8,["onInfinite"])):Y("",!0)])],64)}const Le=c(he,[["render",ge],["__scopeId","data-v-ebdfc750"]]);export{Le as default};
